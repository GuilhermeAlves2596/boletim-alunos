// src/styles.scss
@use '@angular/material' as mat;
@use 'sass:color';
@use 'sass:map';


$primary-palette: mat.define-palette(mat.$amber-palette, 600);
$accent-palette: mat.define-palette(mat.$grey-palette, 600, 100, 700);
$warn-palette: mat.define-palette(mat.$red-palette);

// Monta o tema claro com essas paletas
$custom-theme: mat.define-light-theme((
  color: (
    primary: $primary-palette,
    accent: $accent-palette,
    warn: $warn-palette,
  ),
  typography: mat.define-typography-config(),
));


@include mat.core();
@include mat.all-component-themes($custom-theme);

:root {
  --app-yellow: #{mat.get-color-from-palette($primary-palette, 600)};
  --app-yellow-100: #{mat.get-color-from-palette($primary-palette, 100)};
  --app-gray-50: #fafafa;
  --app-gray-100: #f5f6f8;
  --app-gray-300: #d6d6d9;
  --app-text: #263238;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Roboto, "Helvetica Neue", Arial, sans-serif;
  background: var(--app-gray-50);
  color: var(--app-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.mat-icon {
  vertical-align: middle;
}

.app-container {
  padding: 24px;
}

h1, h2, h3, h4 { color: var(--app-text); margin: 0; }

.mat-select-panel {
  background: #ffffff !important;
  color: var(--app-text) !important;
  border-radius: 8px !important;
  box-shadow: 0 10px 40px rgba(2,6,23,0.12) !important;
}

.mat-select-panel .mat-option {
  padding: 10px 16px !important;
  font-size: 14px;
}

.mat-select-panel .mat-option.mat-selected {
  background: rgba(255, 213, 79, 0.12) !important;
  color: #000 !important;
}
.mat-select-panel .mat-option:hover {
  background: rgba(0,0,0,0.04) !important;
}

.mat-form-field-appearance-outline .mat-form-field-outline {
  stroke: mat.get-color-from-palette($primary-palette, 300) !important;
}
.mat-form-field.mat-focused .mat-form-field-outline {
  stroke: var(--app-yellow) !important;
  stroke-width: 1.5px !important;
  box-shadow: 0 6px 20px rgba(255, 213, 79, 0.12);
}

.mat-form-field-appearance-outline .mat-form-field-flex {
  background: #ffffff;
  border-radius: 6px;
  min-height: 44px;
  align-items: center;
}

.mat-focused .mat-form-field-label, .mat-form-field-label.mat-focused {
  color: var(--app-text) !important;
}

.mat-select-value-text {
  color: var(--app-text);
}

.mat-form-field .mat-hint { color: #7b7b7b; }
.mat-form-field .mat-error { color: mat.get-color-from-palette($warn-palette, 700); }


.boletim-toolbar {
  background: #ffffff;
  border-bottom: 4px solid var(--app-yellow);
  padding: 14px 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  border-radius: 8px;
  display: flex;
  align-items: center;
  gap: 16px;
}

.boletim-toolbar .toolbar-inner {
  display: flex;
  gap: 12px;
  align-items: center;
  width: 100%;
}

.select-field {
  min-width: 200px;
  width: 260px;
}

.select-field .mat-form-field-flex {
  background: #fff;
  padding: 0 8px;
  height: 44px;
}

.table-card {
  margin-top: 18px;
  padding: 18px;
  background: #ffffff;
  border-radius: 10px;
  border: 1px solid var(--app-gray-100);
}

.table-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.table-header h3 {
  margin: 0;
  padding-left: 16px;
  font-weight: 600;
  color: var(--app-text);
  font-size: 1.25rem;
}

.subtitle {
  color: #666;
  display: flex;
  gap: 8px;
  align-items: center;
}

.table-scroll {
  overflow: auto;
  max-width: 100%;
  margin-bottom: 12px;
}

.col-aluno { width: 260px; }
.col-av { width: 120px; text-align: center; }
.col-media { width: 90px; text-align: center; }

.nota-field { width: 90px; }


.media-badge {
  display: inline-block;
  padding: 6px 10px;
  border-radius: 16px;
  background: var(--app-gray-100);
  color: var(--app-text);
  font-weight: 600;
}


.actions {
  display: flex;
  gap: 12px;
  justify-content: flex-end;
  align-items: center;
  margin-top: 8px;
}


.btn-save {
  background: var(--app-yellow);
  color: #121212;
  height: 40px;
  min-width: 150px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  display: inline-flex;
  gap: 8px;
  align-items: center;
  text-transform: none;
}

.btn-save[disabled] { opacity: 0.6; cursor: not-allowed; }

.btn-cancel {
  height: 40px;
  border-radius: 8px;
  color: #444;
  border-color: var(--app-gray-300);
  text-transform: none;
}

.loading-wrapper {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: center;
  padding: 32px;
  color: #666;
  min-height: 120px;
}

@media (max-width: 900px) {
  .select-field { width: 180px; min-width: 140px; }
  .col-aluno { width: 180px; }
}